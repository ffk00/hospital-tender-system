<?xml version="1.0" encoding="UTF-8"?>
<jasperReport name="yaklasik-maliyet" language="java" pageWidth="842" pageHeight="595" orientation="Landscape"
              columnWidth="762" leftMargin="40" rightMargin="40" topMargin="40" bottomMargin="40">

    <parameter name="tenderTitle" class="java.lang.String"/>
    <parameter name="legalReference" class="java.lang.String"/>
    <parameter name="supplier1Name" class="java.lang.String"/>
    <parameter name="supplier2Name" class="java.lang.String"/>
    <parameter name="supplier3Name" class="java.lang.String"/>
    <parameter name="supplier4Name" class="java.lang.String"/>
    <parameter name="supplier5Name" class="java.lang.String"/>

    <field name="itemName" class="java.lang.String"/>
    <field name="quantity" class="java.math.BigDecimal"/>
    <field name="unit" class="java.lang.String"/>
    <field name="price1" class="java.math.BigDecimal"/>
    <field name="price2" class="java.math.BigDecimal"/>
    <field name="price3" class="java.math.BigDecimal"/>
    <field name="price4" class="java.math.BigDecimal"/>
    <field name="price5" class="java.math.BigDecimal"/>
    <field name="avgPrice" class="java.math.BigDecimal"/>
    <field name="totalCost" class="java.math.BigDecimal"/>

    <variable name="grandTotal" calculation="Sum" class="java.math.BigDecimal">
        <expression><![CDATA[$F{totalCost}]]></expression>
    </variable>

    <title height="70">
        <element kind="staticText" x="0" y="0" width="762" height="30" fontSize="13.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
            <text><![CDATA[YAKLASIK MALIYET HESAP CETVELI]]></text>
        </element>
        <element kind="textField" x="0" y="35" width="762" height="15" fontSize="9.0" blankWhenNull="true">
            <expression><![CDATA["Ihale Konusu: " + $P{tenderTitle}]]></expression>
        </element>
        <element kind="textField" x="0" y="50" width="762" height="15" fontSize="9.0" blankWhenNull="true">
            <expression><![CDATA["Yasal Dayanak: " + $P{legalReference}]]></expression>
        </element>
    </title>

    <columnHeader height="25">
        <element kind="staticText" x="0" y="0" width="25" height="25" mode="Opaque" backcolor="#DDDDDD" fontSize="7.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
            <box><pen lineWidth="0.5"/></box>
            <text><![CDATA[No]]></text>
        </element>
        <element kind="staticText" x="25" y="0" width="120" height="25" mode="Opaque" backcolor="#DDDDDD" fontSize="7.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
            <box><pen lineWidth="0.5"/></box>
            <text><![CDATA[Malzeme Adi]]></text>
        </element>
        <element kind="staticText" x="145" y="0" width="40" height="25" mode="Opaque" backcolor="#DDDDDD" fontSize="7.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
            <box><pen lineWidth="0.5"/></box>
            <text><![CDATA[Miktar]]></text>
        </element>
        <element kind="staticText" x="185" y="0" width="35" height="25" mode="Opaque" backcolor="#DDDDDD" fontSize="7.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
            <box><pen lineWidth="0.5"/></box>
            <text><![CDATA[Birim]]></text>
        </element>
        <element kind="textField" x="220" y="0" width="85" height="25" mode="Opaque" backcolor="#DDDDDD" fontSize="7.0" bold="true" hTextAlign="Center" vTextAlign="Middle" blankWhenNull="true">
            <box><pen lineWidth="0.5"/></box>
            <expression><![CDATA[$P{supplier1Name} != null ? $P{supplier1Name} : "Firma 1"]]></expression>
        </element>
        <element kind="textField" x="305" y="0" width="85" height="25" mode="Opaque" backcolor="#DDDDDD" fontSize="7.0" bold="true" hTextAlign="Center" vTextAlign="Middle" blankWhenNull="true">
            <box><pen lineWidth="0.5"/></box>
            <expression><![CDATA[$P{supplier2Name} != null ? $P{supplier2Name} : "Firma 2"]]></expression>
        </element>
        <element kind="textField" x="390" y="0" width="85" height="25" mode="Opaque" backcolor="#DDDDDD" fontSize="7.0" bold="true" hTextAlign="Center" vTextAlign="Middle" blankWhenNull="true">
            <box><pen lineWidth="0.5"/></box>
            <expression><![CDATA[$P{supplier3Name} != null ? $P{supplier3Name} : "Firma 3"]]></expression>
        </element>
        <element kind="staticText" x="475" y="0" width="75" height="25" mode="Opaque" backcolor="#DDDDDD" fontSize="7.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
            <box><pen lineWidth="0.5"/></box>
            <text><![CDATA[Ort. Fiyat]]></text>
        </element>
        <element kind="staticText" x="550" y="0" width="85" height="25" mode="Opaque" backcolor="#DDDDDD" fontSize="7.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
            <box><pen lineWidth="0.5"/></box>
            <text><![CDATA[Toplam Maliyet]]></text>
        </element>
    </columnHeader>

    <detail>
        <band height="18">
            <element kind="textField" x="0" y="0" width="25" height="18" fontSize="7.0" hTextAlign="Center" vTextAlign="Middle">
                <box><pen lineWidth="0.5"/></box>
                <expression><![CDATA[$V{REPORT_COUNT}]]></expression>
            </element>
            <element kind="textField" x="25" y="0" width="120" height="18" fontSize="7.0" vTextAlign="Middle" blankWhenNull="true">
                <box leftPadding="2"><pen lineWidth="0.5"/></box>
                <expression><![CDATA[$F{itemName}]]></expression>
            </element>
            <element kind="textField" x="145" y="0" width="40" height="18" fontSize="7.0" hTextAlign="Center" vTextAlign="Middle" blankWhenNull="true">
                <box><pen lineWidth="0.5"/></box>
                <expression><![CDATA[$F{quantity}]]></expression>
            </element>
            <element kind="textField" x="185" y="0" width="35" height="18" fontSize="7.0" hTextAlign="Center" vTextAlign="Middle" blankWhenNull="true">
                <box><pen lineWidth="0.5"/></box>
                <expression><![CDATA[$F{unit}]]></expression>
            </element>
            <element kind="textField" x="220" y="0" width="85" height="18" fontSize="7.0" hTextAlign="Right" vTextAlign="Middle" blankWhenNull="true">
                <box rightPadding="3"><pen lineWidth="0.5"/></box>
                <expression><![CDATA[$F{price1}]]></expression>
            </element>
            <element kind="textField" x="305" y="0" width="85" height="18" fontSize="7.0" hTextAlign="Right" vTextAlign="Middle" blankWhenNull="true">
                <box rightPadding="3"><pen lineWidth="0.5"/></box>
                <expression><![CDATA[$F{price2}]]></expression>
            </element>
            <element kind="textField" x="390" y="0" width="85" height="18" fontSize="7.0" hTextAlign="Right" vTextAlign="Middle" blankWhenNull="true">
                <box rightPadding="3"><pen lineWidth="0.5"/></box>
                <expression><![CDATA[$F{price3}]]></expression>
            </element>
            <element kind="textField" x="475" y="0" width="75" height="18" fontSize="7.0" hTextAlign="Right" vTextAlign="Middle" blankWhenNull="true">
                <box rightPadding="3"><pen lineWidth="0.5"/></box>
                <expression><![CDATA[$F{avgPrice}]]></expression>
            </element>
            <element kind="textField" x="550" y="0" width="85" height="18" fontSize="7.0" hTextAlign="Right" vTextAlign="Middle" blankWhenNull="true">
                <box rightPadding="3"><pen lineWidth="0.5"/></box>
                <expression><![CDATA[$F{totalCost}]]></expression>
            </element>
        </band>
    </detail>

    <summary height="30">
        <element kind="staticText" x="0" y="0" width="550" height="20" mode="Opaque" backcolor="#EEEEEE" fontSize="9.0" bold="true" hTextAlign="Right" vTextAlign="Middle">
            <box><pen lineWidth="0.5"/></box>
            <text><![CDATA[GENEL TOPLAM:  ]]></text>
        </element>
        <element kind="textField" x="550" y="0" width="85" height="20" mode="Opaque" backcolor="#EEEEEE" fontSize="9.0" bold="true" hTextAlign="Right" vTextAlign="Middle">
            <box rightPadding="3"><pen lineWidth="0.5"/></box>
            <expression><![CDATA[$V{grandTotal}]]></expression>
        </element>
    </summary>
</jasperReport>
